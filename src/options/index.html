<!DOCTYPE html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/paper/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <link id="favicon" rel="shortcut icon" type="image/png" href="/icons/icon48.png" />
  <title>TruckersMP Improved Settings</title>

  <script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"></script>
  <link rel="stylesheet" type="text/css" href="css/index.css">

  <script src="https://www.gstatic.com/firebasejs/ui/2.5.1/firebase-ui-auth.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.css" />
  <script src="../firebase/config.js"></script>
  <script src="../firebase/login.js"></script>

  <!-- <script src="/src/firebase/credentials.js"></script> -->
</head>

<html>

<body>
  <div class="loadingoverlay">
  </div>

  <div class="content-body" style="display: none;">
    <nav class="navbar navbar-default navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#" id="ext_name">Loading...</a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse">
          <ul class="nav navbar-nav navbar-left">
            <li class="">
              <a href="https://forum.truckersmp.com/index.php?/topic/26484-truckersmp-improved-extension/" target="_blank">Forum topic</a>
            </li>
            <li class="">
              <a class="version_detected" href="#" target="_blank">Changelog</a>
            </li>
            <li class="">
              <a data-toggle="modal" data-target="#importExportModal" href="#">Import/Export settings</a>
            </li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li class="active">
              <a href="#" id="save">Save settings</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="col-md-10 col-md-offset-1">
        <div class="row">
          <div class="col-md-7">
            <div class="row">
              <div class="col-md-12">
                <div class="panel panel-success storage-settings">

                  <div class="panel-heading">
                    <h3 class="panel-title">Storage Settings</h3>
                  </div>

                  <div class="panel-body">
                    <div class="row" style="display: none;" id="user-details">
                      <div class="col-sm-12 user-details">
                        <div class="user-image">
                          <img src="#" class="img-circle" id="account-image">
                        </div>
                        <div class="user-info-block">
                          <div class="user-heading">
                            <h3 id="account-username">Username</h3>
                            <span class="help-block" id="account-provider">Auth provider</span>
                            <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#onlineStorageModal">Debug Data</button>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div id="firebaseui-auth">
                      <p class="text-center">
                        You can log in your Google/Github account or even create a new account to store your settings online!
                      </p>

                      <div id="firebaseui-auth-container"></div>
                    </div>
                  </div>

                  <div class="panel-footer" id="firebaseui-logout" style="display: none;">
                    <div class="btn-group btn-group-justified" role="group">
                      <div class="btn-group" role="group">
                        <button type="button" class="btn btn-danger" id="signOut">Sign out</button>
                      </div>
                      <div class="btn-group" role="group">
                        <button type="button" class="btn btn-danger" id="loadData" data-toggle="tooltip" data-placement="bottom" title="Loads your data from Online storage and rewrites any existing.">Load data</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="modal fade" tabindex="-1" role="dialog" id="onlineStorageModal">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h4 class="modal-title">Debug Data</h4>
                    </div>

                    <div class="modal-body">
                      <pre id="account-details"></pre>
                    </div>

                    <div class="modal-footer">
                      <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-12">
                <div class="panel panel-default">
                  <div class="panel-heading">
                    <h3 class="panel-title">Steam Web API Key
                      <i class="text-muted">discontinued, will be deleted in the future</i>
                    </h3>
                  </div>
                  <div class="panel-body" id="steamapi_body">
                    <div class="form-group" id="steamapi_group">
                      <input type="text" name="steamapi" id="steamapi" placeholder="Paste it here" class="form-control text-center" maxlength="32">
                      <p class="help-clock">This 32-symbol key is needed for Steam integration.
                        <a href="#" data-toggle="modal" data-target="#SteamAPIModal">How to get it?</a>
                      </p>
                    </div>

                    <div class="modal fade" tabindex="-1" role="dialog" id="SteamAPIModal">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h4 class="modal-title">How to get Steam Web API Key?</h4>
                          </div>
                          <div class="modal-body">
                            <p>1) Go to&nbsp;
                              <strong>
                                <a href="http://steamcommunity.com/dev/apikey" target="_blank">http://steamcommunity.com/dev/apikey</a>
                              </strong>
                            </p>
                            <p>2) Paste some random site, check
                              <strong>I agree</strong> and click
                              <strong>Register</strong>
                            </p>
                            <p>
                              <img src="http://i.imgur.com/nOdnvh6.png" class="img-responsive img-thumbnail">
                            </p>
                            <p>3) Copy Steam Web API Key</p>
                            <p>
                              <img src="http://i.imgur.com/R1tQps5.png" class="img-responsive img-thumbnail">
                            </p>
                            <p>4) Paste it right there</p>
                            <p>5) Click "Save Settings" in navigation menu and reload TruckersMP page.</p>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-dismiss="modal">Got it!</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-5">
            <div class="panel panel-danger">

              <div class="panel-heading">
                <h3 class="panel-title">UI Settings</h3>
              </div>

              <ul class="list-group">
                <li class="list-group-item" data-toggle="tooltip" data-placement="bottom" title="Only in Appeals/Reports commentaries">
                  Image Previews
                  <div class="material-switch pull-left">
                    <input id="img_previews" name="img_previews" type="checkbox">
                    <label for="img_previews" class="label-primary"></label>
                  </div>
                </li>

                <li class="list-group-item" data-toggle="tooltip" data-placement="bottom" title="Only in Appeals/Reports, useful for image previews">
                  Wider Page
                  <div class="material-switch pull-left">
                    <input id="wide" name="wide" type="checkbox">
                    <label for="wide" class="label-primary"></label>
                  </div>
                </li>

                <li class="list-group-item" data-toggle="tooltip" data-placement="bottom" title="In accept-report modal and manual ban page">
                  Auto-insert separator
                  <div class="material-switch pull-left">
                    <input id="autoinsertsep" name="wide" type="checkbox">
                    <label for="autoinsertsep" class="label-primary"></label>
                  </div>
                </li>

                <li class="list-group-item" data-toggle="tooltip" data-placement="bottom" title="Open reports in new tab for Reports Table and Other Open Reports forms">
                  "View report" in new tab
                  <div class="material-switch pull-left">
                    <input id="viewreportblank" name="wide" type="checkbox">
                    <label for="viewreportblank" class="label-primary"></label>
                  </div>
                </li>


              </ul>
            </div>
          </div>

        </div>

        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree">
                Own Reasons Buttons
                <i class="text-muted">click to open/close</i>
              </a>
            </h3>
          </div>
          <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <div class="panel-body">
              <form class="form-horizontal">
                <fieldset>
                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Prefixes:</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="prefixes"></div>
                    </div>
                  </div>

                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Reasons:</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="reasons"></div>
                    </div>
                  </div>

                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Postfixes:</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="postfixes"></div>
                    </div>
                  </div>

                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Report declines:</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="declines"></div>
                    </div>
                  </div>

                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Report declines (Positive):</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="declinesPositive"></div>
                    </div>
                  </div>

                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Report declines (Negative):</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="declinesNegative"></div>
                    </div>
                  </div>

                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Report comments:</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="comments"></div>
                    </div>
                  </div>

                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Appeals Accepts:</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="acceptsAppeals"></div>
                    </div>
                  </div>

                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Appeals Declines:</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="declinesAppeals"></div>
                    </div>
                  </div>

                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Appeals Modify:</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="modifyAppeals"></div>
                    </div>
                  </div>

                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Appeals Comments:</strong>
                      <br/>
                      <button class='create-section btn btn-success'>Create section</button>
                    </label>
                    <div class="col-lg-10">
                      <div id="commentsAppeals"></div>
                    </div>
                  </div>
                </fieldset>
              </form>
            </div>
          </div>
        </div>

        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
                Own Date Buttons
                <i class="text-muted">click to open/close</i>
              </a>
            </h3>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <div class="panel-body">
              <form class="form-horizontal">
                <fieldset>
                  <p>Use
                    <a href="#" data-toggle="modal" data-target="#keysModal">this helpful table</a> to operate with buttons.
                    <b class="text-danger">BE CAREFUL IN GENERAL! DO NOT CHANGE IF YOU DON'T UNDERSTAND!</b>
                  </p>

                  <div class="modal fade" id="keysModal">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h4 class="modal-title">Own Date help</h4>
                        </div>
                        <div class="modal-body">
                          <p class="text-center">
                            Template:
                            <code>number, key,
                              <i>title (optional);</i>
                            </code>. Use
                            <kbd>;</kbd> to delimite buttons,
                            <kbd>,</kbd> to delimite options.
                            <br/>
                            <br/> Example 1:
                            <code>3,d;</code> will generate "+3 days" button with +3 days trigger.
                            <br/> Example 2:
                            <code>7,d,One week;</code> will generate "One week" button with +7 days trigger.
                          </p>
                          <table class="table table-striped table-bordered">
                            <tbody>
                              <tr>
                                <th>Key</th>
                                <th>Shorthand</th>
                              </tr>
                              <tr>
                                <td>years</td>
                                <td>y</td>
                              </tr>
                              <tr>
                                <td>quarters</td>
                                <td>Q</td>
                              </tr>
                              <tr>
                                <td>months</td>
                                <td>M</td>
                              </tr>
                              <tr>
                                <td>weeks</td>
                                <td>w</td>
                              </tr>
                              <tr>
                                <td>days</td>
                                <td>d</td>
                              </tr>
                              <tr>
                                <td>hours</td>
                                <td>h</td>
                              </tr>
                              <tr>
                                <td>minutes</td>
                                <td>m</td>
                              </tr>
                              <tr>
                                <td>seconds</td>
                                <td>s</td>
                              </tr>
                              <tr>
                                <td>milliseconds</td>
                                <td>ms</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>White buttons:</strong>
                    </label>
                    <div class="col-lg-10">
                      <input id="white" class="form-control" type="text">
                    </div>
                  </div>
                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Yellow buttons:</strong>
                    </label>
                    <div class="col-lg-10">
                      <input id="yellow" class="form-control" type="text">
                    </div>
                  </div>
                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Red buttons:</strong>
                    </label>
                    <div class="col-lg-10">
                      <input id="red" class="form-control" type="text">
                    </div>
                  </div>
                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Other links:</strong>
                    </label>
                    <div class="col-lg-10">
                      <input id="other" class="form-control" type="text">
                    </div>
                  </div>
                </fieldset>
              </form>
            </div>
          </div>
        </div>

        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title">
              <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
                Other settings
                <i class="text-muted">click to open/close</i>
              </a>
            </h3>
          </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
            <div class="panel-body">
              <form class="form-horizontal">
                <fieldset>
                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Separator</strong>
                      <i class="text-muted">use Space if needed</i>
                    </label>
                    <div class="col-lg-10">
                      <input type="text" id="separator" class="form-control">
                    </div>
                  </div>
                  <hr>

                  <div class="form-group">
                    <label class="col-lg-2 control-label">
                      <strong>Own comment</strong>
                      <i class="text-muted">instead of localised comment in reports</i>
                    </label>
                    <div class="col-lg-10">
                      <input type="text" id="own_comment" class="form-control">
                    </div>
                  </div>
                </fieldset>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" tabindex="-1" role="dialog" id="importExportModal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Import or export settings</h4>
          </div>
          <div class="modal-body">
            <p>This action will import/export your settings AND rewrite settings in Online storage (if applicable)!</p>
            <div class="btn-group btn-group-justified" role="group" aria-label="...">
              <div class="btn-group" role="group">
                <input type="file" id="import_file" accept=".json" style="display: none;" />
                <button type="button" id="import" class="btn btn-danger">Import</button>
              </div>
              <div class="btn-group" role="group">
                <button type="button" id="export" class="btn btn-success">Export</button>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Nah...</button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script src="/src/main.js"></script>
  <script src="js/index.js"></script>
</body>

</html>